1
00:00:00,000 --> 00:00:11,000
理解如何在原厂ECU中找到并定义映射，首先需要了解ECU的工作原理，而这正是我们在这一系列模块中要讲解的内容。 

2
00:00:11,000 --> 00:00:24,000
如果我们理解了ECU的工作原理，那么我们就能明白哪些映射可能存在，以及为了能够充分进行调校更改，我们需要找到并定义哪些映射。 

3
00:00:24,000 --> 00:00:39,000
鉴于大多数现代发动机控制器基于扭矩模型运行，我们将从了解这一模型的意义及其工作原理开始，因为这与我们在大多数售后独立ECU中所经历的完全不同。 

4
00:00:39,000 --> 00:00:51,000
简单来说，扭矩模型ECU使用一个基于发动机转速和油门踏板位置的驾驶员需求表，以请求特定的发动机扭矩。 

5
00:00:51,000 --> 00:00:57,000
从这里开始，ECU可以决定需要采取哪些措施来满足所请求的扭矩。 

6
00:00:57,000 --> 00:01:10,000
这可能包括发动机的线控节气门开度，需要记住的是，油门踏板并不像传统拉线式节气门那样直接连接到节气门片。 

7
00:01:10,000 --> 00:01:19,000
此外，在涡轮增压汽油发动机中，ECU可以调整增压压力；而在涡轮增压柴油发动机中，则可能是喷油量和增压压力的组合调整。 

8
00:01:19,000 --> 00:01:33,000
当然，这只是ECU工作原理的一个非常基础的概述，而扭矩模型控制的具体实现方式会因ECU控制器的类型及其所安装的车辆而有所不同。 

9
00:01:33,000 --> 00:01:41,000
一个常见的问题是，为什么原厂制造商选择了这种方式？这里有许多原因和优势。 

10
00:01:41,000 --> 00:01:48,000
实际上，当我们考虑驾驶员通过油门踏板的操作时，本质上我们是在请求扭矩输出。 

11
00:01:48,000 --> 00:01:55,000
当我们全油门时，我们实际上是在请求发动机能够提供的所有扭矩，因此以扭矩为模型的方式非常合理。 

12
00:01:55,000 --> 00:02:07,000
扭矩模型ECU的另一个关键优势是，它可以与现代电子控制自动变速箱以及DCT或DSG变速箱实现无缝集成。 

13
00:02:07,000 --> 00:02:22,000
以DCT变速箱的换挡过程为例，当驾驶员请求升挡时，变速箱控制模块（TCM）会向发动机控制模块（ECU）发送请求，要求减少扭矩以便完成换挡。 

14
00:02:22,000 --> 00:02:33,000
ECU随后会采用必要的方式来减少扭矩，这可能包括关闭节气门、切断点火、延迟点火，或者这些方法的组合。 

15
00:02:33,000 --> 00:02:43,000
当来自发动机控制模块的扭矩输出信号达到TCM请求的水平时，TCM将完成换挡，并重新提高扭矩限制。 

16
00:02:43,000 --> 00:02:49,000
这个例子只是触及了扭矩控制所能实现的功能的表面，也说明了为什么它已经成为主流。 

17
00:02:49,000 --> 00:02:56,000
这并不是一个特别难以理解的模型，但确实需要在调校时采取一种不同的思路。 

18
00:02:56,000 --> 00:03:05,000
我们暂时来看一下较老的Bosch MED9控制器的运行方式，以了解Bosch是如何实现扭矩建模的。 

19
00:03:05,000 --> 00:03:13,000
在这个ECU中，我们有一个驾驶员需求表，它定义了请求扭矩占发动机可用最大扭矩的百分比。 

20
00:03:13,000 --> 00:03:23,000
从这里开始，ECU使用一个查找表将请求的扭矩百分比转换为气缸填充率的百分比，也就是所谓的相对气缸填充率。 

21
00:03:23,000 --> 00:03:32,000
这个数值随后被用来定义气缸的充气量，换句话说，我们需要多少增压压力才能达到特定的气缸填充量。 

22
00:03:32,000 --> 00:03:39,000
最后，还会有一系列的限制器，它们可能在这些表格之上工作，以确保安全性。 

23
00:03:39,000 --> 00:03:49,000
显然，这只是对MED9控制器的一个非常高层次的概述，我们将在即将到来的模块中更深入地探讨它，供需要校准此控制器的人学习。 

24
00:03:49,000 --> 00:03:55,000
当然，并非每种实现方式看起来都一样，但我现在只是希望你能理解这些基本原理。 

25
00:03:55,000 --> 00:04:00,000
关于扭矩模型ECU，还有一些特定的注意事项，我也希望你能牢记。 

26
00:04:00,000 --> 00:04:12,000
首先，对于涡轮增压车辆，你可能没有一个简单的表格来提供以psi、kPa或毫巴为单位的增压目标，这与独立ECU领域中的常规预期不同。 

27
00:04:12,000 --> 00:04:23,000
相反，增压目标将由发动机控制模块根据任何给定时间请求的扭矩或气缸填充百分比在内部计算得出。 

28
00:04:23,000 --> 00:04:34,000
困难的部分在于将气缸填充百分比与我们更熟悉的增压压力值相关联，这也是为什么数据记录如此重要的原因。 

29
00:04:34,000 --> 00:04:38,000
特别是要在进行任何校准更改之前记录原厂校准数据。 

30
00:04:38,000 --> 00:04:45,000
另一个我们需要注意的方面是控制器可能会有的各种扭矩限制器。 

31
00:04:45,000 --> 00:04:53,000
如果你不了解这些限制器的存在，或者无法找到它们，它们可能会让你之前所有的调校工作前功尽弃，非常令人沮丧。 

32
00:04:53,000 --> 00:05:02,000
通常，这些限制器会在日志中变得显而易见，因为ECU会通过部分关闭节气门来控制和限制扭矩。 

33
00:05:02,000 --> 00:05:20,000
最后，我们需要对预期的扭矩值保持现实态度。我指的是，如果我们对发动机进行了某些硬件改装，并期望扭矩可能增加15%，那么我们也需要对扭矩目标表进行相应幅度的调整。 

34
00:05:20,000 --> 00:05:24,000
本质上，我们需要使其匹配发动机的新扭矩能力。 

35
00:05:24,000 --> 00:05:29,000
如果不这样做，可能意味着我们无法实现发动机应有的功率和扭矩增益。 

36
00:05:29,000 --> 00:05:43,000
另一方面，直接将所有扭矩目标设置为不切实际的高值也不是正确的做法，这可能会导致各种问题，从可驾驶性问题到触发DTC（诊断故障码），最终让发动机进入跛行模式。 

37
00:05:43,000 --> 00:05:59,000
我们还需要谨慎地修改驾驶员需求表或驾驶员愿望表，特别是在对部分油门扭矩请求进行调整时，因为这会对油门响应或车辆对油门输入的驾驶感受产生重大影响。 

38
00:05:59,000 --> 00:06:04,000
在这里过于激进的调整可能会让车辆难以平顺驾驶。 

39
00:06:04,000 --> 00:06:14,000
现在这一切可能听起来有点吓人，但随着我们深入课程，尤其是进入实际案例时，一切都会变得更加清晰。 

40
00:06:14,000 --> 00:06:17,000
在继续之前，让我们快速回顾一下本模块的内容。 

41
00:06:17,000 --> 00:06:28,000
请记住，大多数当前的原厂ECU都基于扭矩模型工作，在这种模型中，我们根据特定的转速和油门踏板位置来请求特定的扭矩输出。 

42
00:06:28,000 --> 00:06:38,000
在内部，这会被转换为涡轮增压发动机的增压压力目标，这意味着通常不会有我们更熟悉的传统增压目标表。 

43
00:06:38,000 --> 00:06:47,000
对于扭矩目标表，我们需要保持现实态度，并针对我们期望发动机能够产生的扭矩增益进行设置。 

44
00:06:47,000 --> 00:06:57,000
同时要注意，可能会存在许多扭矩限制器，它们可能会让你之前的所有努力付诸东流，因此需要识别它们并相应地提高限制值。 

45
00:06:57,000 --> 00:07:03,000
使用WinOLS的一个重要方面是理解你正在处理的文件的软件版本。 

46
00:07:03,000 --> 00:07:07,000
我们可以通过检查项目属性中的ECU选项来找到这些信息。 

47
00:07:07,000 --> 00:07:11,000
这里列出了生产商、构建版本、ECU编号和软件版本。 

48
00:07:11,000 --> 00:07:23,000
例如，在我们的第五代大众高尔夫GTi中，可以看到发动机控制模块是Bosch MED9.1.5，软件版本是391082。 

49
00:07:23,000 --> 00:07:36,000
那么这意味着什么呢？对于原厂ECM来说，需要考虑的一点是，同一辆车可能会为几十个不同的国际市场生产，每个市场可能需要略微不同的标定和功能。 

50
00:07:36,000 --> 00:07:49,000
即使在同一个国家，也几乎可以肯定会有针对某辆车的软件更新，以引入不同的功能，或者修正车辆生命周期中可能显现的问题。 

51
00:07:49,000 --> 00:07:57,000
这意味着，对于特定的ECU和特定的车型，几乎肯定会存在各种不同的软件版本。 

52
00:07:57,000 --> 00:08:09,000
这可能会引发一些复杂情况，因为这些不同的软件版本可能在可用的地图、地图中的标定数据，甚至是地图所在的地址上存在差异。 

53
00:08:09,000 --> 00:08:21,000
当你有一个地图包，或者你为某个特定的软件版本开发了自己的地图包，但需要调校同一车型的不同软件版本时，这就可能成为一个问题。 

54
00:08:21,000 --> 00:08:24,000
幸运的是，有几种方法可以应对这种情况。 

55
00:08:24,000 --> 00:08:34,000
首先，WinOLS提供了一些非常智能的功能，即使地图的地址不同，也可以相对快速、轻松地将已定义的地图数据从一个文件复制到另一个文件。 

56
00:08:36,000 --> 00:08:42,000
我们在课程的实践技能部分演示了这个过程，所以你可以在那里查看更多信息。 

57
00:08:42,000 --> 00:08:50,000
在其他情况下，我们可能可以使用一个已开发的软件版本，并将其刷入每辆想要调校的车辆中。 

58
00:08:50,000 --> 00:09:04,000
这大大简化了调校过程并减少了所需时间，不过这并不适用于你想调校的每一个发动机控制模块，因此了解如何将地图复制到不同的软件版本仍然很重要。 

59
00:09:04,000 --> 00:09:12,000
甚至在不调校车辆的情况下，也可能会有理由更改为不同的软件版本。 

60
00:09:12,000 --> 00:09:23,000
通常，我们会建议你运行车辆可用的最新软件版本，但在某些情况下，回滚到以前的版本可能会有一些好处。 

61
00:09:23,000 --> 00:09:29,000
一个完美的例子是大众柴油车系列，它们受到了柴油门丑闻的影响。 

62
00:09:29,000 --> 00:09:41,000
运行规避排放法规的非法软件版本的车辆，与大众推出的合法化修复版本相比，提供了更好的性能。 

63
00:09:41,000 --> 00:09:49,000
然而，这显然是以性能为代价的，因此回滚到非法软件版本是一种恢复性能的解决方案。 

64
00:09:49,000 --> 00:10:04,000
显然，这会影响车辆的排放合规性，如果在你的地区这样做是违法的，我并不建议你这么做，但这只是说明更改软件版本可能有吸引力的一个原因。 

65
00:10:04,000 --> 00:10:20,000
接下来的问题是，我们如何更改软件版本？这就需要使用你的特定工具，而一些更强大的刷写工具会为你提供安装不同软件版本的选项，与经销商的操作方式类似。 

66
00:10:20,000 --> 00:10:22,000
现在让我们在进入下一部分之前回顾一下这个模块。 

67
00:10:22,000 --> 00:10:31,000
对于原厂制造商来说，在不同的车型年份或不同的国际市场之间，为同一车型提供各种软件版本是很正常的。 

68
00:10:31,000 --> 00:10:41,000
了解你的控制器使用的软件版本很重要，因为可用的地图甚至地图的位置通常会随着软件版本的不同而有所变化。 

69
00:10:41,000 --> 00:10:52,000
WinOLS确实提供了相对简单的方法来适配地图包或定义，以适应不同的软件版本。

