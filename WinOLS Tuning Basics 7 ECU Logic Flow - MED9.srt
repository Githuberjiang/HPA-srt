1
00:00:00,000 --> 00:00:06,000
在本模块中，我们将了解博世汽油系列发动机控制器的工作方式。

2
00:00:06,000 --> 00:00:21,000
然而，这涵盖了跨越许多不同年份的一系列控制器，并且被许多不同的制造商使用，例如奥迪、大众、宝马、西雅特、斯柯达和福特都可能使用相同的核心控制器。

3
00:00:21,000 --> 00:00:31,000
正如你可能理解的那样，MED系列中较新的变体，如MED17，与较旧的ME7相比，包含了更多的高级策略。

4
00:00:31,000 --> 00:00:44,000
同样，虽然控制器的基本策略保持相对相似，但根据特定汽车制造商的需求，也可能包括一些特定的功能或选项。

5
00:00:44,000 --> 00:00:59,000
在接下来的模块中，我们将重点关注ECU家族的基本工作原理，以便你能够理解ECU操作的逻辑流程，换句话说，就是ECU依赖哪些输入以及操作的顺序。

6
00:00:59,000 --> 00:01:09,000
这将帮助你了解ECU中可能存在哪些地图，你需要定位并定义这些地图，以便进行适当的调校更改。

7
00:01:09,000 --> 00:01:17,000
这将是一个高层次的概述，随着课程的进行，在我们进入实际案例库后，我们会更具体地讲解这些控制器。

8
00:01:17,000 --> 00:01:24,000
但在深入之前，让我们先从博世的命名策略基础开始，或者说，MED到底是什么意思。

9
00:01:24,000 --> 00:01:30,000
“M”代表Motronic，这可以追溯到博世在80年代开发的ECU。

10
00:01:30,000 --> 00:01:36,000
这是博世上一代D-Jetronic ECU的进一步发展。

1
00:01:34,000 --> 00:01:41,000
接下来是“E”，它代表电子节气门，或者我们通常所说的线控油门（Drive by Wire）。

2
00:01:41,000 --> 00:01:47,000
最后，“D”表示该ECU是为控制直喷发动机而设计的。

3
00:01:47,000 --> 00:01:56,000
还有一个博世的MEV变体，这主要用于宝马，其中的“V”代表Valvetronic（可变气门控制）。

4
00:01:56,000 --> 00:02:04,000
最后，还有MEG系列，它将发动机和变速箱的控制集成在同一个控制器中。

5
00:02:04,000 --> 00:02:11,000
现在让我们深入了解ECU的逻辑，这从驾驶员意图或驾驶员扭矩请求表开始。

6
00:02:11,000 --> 00:02:23,000
不过，这张表并不会请求一个以牛·米为单位的具体扭矩值，而是请求最大发动机扭矩的百分比，因此我们通常会看到表中的值在0到100之间。

7
00:02:23,000 --> 00:02:27,000
在调整这张表时，这是一点需要牢记的重要内容。

8
00:02:27,000 --> 00:02:43,000
这种实现扭矩控制的方式可能看起来有些不寻常，因为它并没有实际请求一个具体的扭矩值。然而，这种策略的好处在于，无论是小排量的自然吸气四缸发动机，还是双涡轮增压的大排量V8发动机，它都能很好地工作。

9
00:02:43,000 --> 00:02:51,000
相对扭矩可以完全相同，即使实际的扭矩输出显然存在巨大差异。

10
00:02:51,000 --> 00:02:58,000
接下来，我们进入一个表格，它将请求的扭矩转换为期望的发动机负载。

1
00:02:56,000 --> 00:03:03,000
这是MED控制器中更重要的表格之一，具有德语缩写KFMIRL。

2
00:03:03,000 --> 00:03:14,000
这是你经常会在芯片调校论坛上看到提到的缩写之一，尽管关于这张表的作用以及如何正确修改它，通常会有很多混淆。

3
00:03:14,000 --> 00:03:18,000
这是一个相对于发动机转速和请求扭矩的3D表格。

4
00:03:18,000 --> 00:03:22,000
这个值是从我们刚刚讨论的驾驶员意图表中得出的。

5
00:03:22,000 --> 00:03:30,000
这个表格的Z轴是请求的气缸填充量或负载值，并且以百分比表示。

6
00:03:30,000 --> 00:03:43,000
不过，这个值并不能直接转换为压力，但作为近似值，我们可以将其乘以10然后加上300，这将给出绝对压力（以毫巴为单位），至少是近似值。

7
00:03:43,000 --> 00:03:58,000
例如，如果我们有一个请求的负载值为190%，我们可以将其乘以10得到1900，然后加上300，得到2200毫巴，或者说2.2 bar的绝对压力。

8
00:03:58,000 --> 00:04:07,000
如果我们减去1000（代表大气压），我们会得到一个增压目标为1200毫巴，或者1.2 bar的正歧管压力。

9
00:04:07,000 --> 00:04:15,000
如果你更喜欢使用psi作为单位，你可以将结果的bar值乘以14.5，轻松转换为psi。

10
00:04:15,000 --> 00:04:23,000
在这个例子中，1.2 bar乘以14.5等于17.4 psi。

1
00:04:22,000 --> 00:04:31,000
KFMIRL与另一张表KFMIOP协同工作，后者被称为最佳发动机扭矩映射表。

2
00:04:31,000 --> 00:04:34,000
KFMIOP是KFMIRL的逆表。

3
00:04:34,000 --> 00:04:41,000
这一次的轴是发动机转速和发动机负载，而表格中的值是相对发动机扭矩。

4
00:04:41,000 --> 00:04:53,000
在实际调校这些表格时，一个重要点是，当我们对其中一个表进行修改时，必须对另一个表进行相反的修改，否则逆表将不再匹配。

5
00:04:53,000 --> 00:05:02,000
ECU可以容忍这两张表之间的小误差，但如果误差过大，可能会导致扭矩限制的出现。

6
00:05:02,000 --> 00:05:12,000
这包含了很多信息，而且其中没有任何内容是直观的。所以我们先停下来，实际看看这些表格在OLS中的交互，以真正巩固它们的关系。

7
00:05:12,000 --> 00:05:27,000
在我们的演示中，我们将快速查看一份来自第五代大众高尔夫的文件，这是一款Bosch MED9.1.5的ECU。这里我高亮显示的表格是我们的KFMIRL表格，我们先以数值形式看一下它。

8
00:05:27,000 --> 00:05:37,000
当然，这是一个3D表格。在我们的纵轴上，我们有来自驾驶员扭矩请求映射的相对扭矩请求。

9
00:05:37,000 --> 00:05:42,000
然后在X轴，也就是水平轴上，我们有发动机转速（RPM）。

10
00:05:42,000 --> 00:05:48,000
而表格中的数字是请求的负载或相对气缸填充量。

1
00:05:48,000 --> 00:06:07,000
所以，如果我们看一下这里的一个具体点，来了解它如何与我们的另一张表KFMIOP协同工作。我们来到4000 RPM的这一列，并选择一个具体点。我这里高亮显示的是80%的相对扭矩请求。

2
00:06:07,000 --> 00:06:12,000
我们可以看到对应的相对气缸填充请求是128%。

3
00:06:12,000 --> 00:06:19,000
好，现在我们来看看KFMIOP，也就是我们的逆表，看看它是什么样子的。

4
00:06:19,000 --> 00:06:24,000
我们切换到那张表，这是它的图形化展示。

5
00:06:24,000 --> 00:06:26,000
我们双击打开它。

6
00:06:26,000 --> 00:06:30,000
现在，我们可以看到角色基本上是反过来了。

7
00:06:30,000 --> 00:06:34,000
我们仍然在水平轴上保留了发动机转速（RPM）。

8
00:06:34,000 --> 00:06:41,000
而垂直轴，也就是Y轴，在这种情况下是相对气缸填充量或请求负载。

9
00:06:41,000 --> 00:06:49,000
Z轴上的数字，也就是表格中的实际数值，是我们的相对扭矩请求。

10
00:06:49,000 --> 00:06:59,000
如果我们在大致相同的位置观察一下，你可能记得我们之前是80%的请求扭矩，或者更准确地说是相对扭矩。现在，我这里虽然没有完全相同的数值，但我们有4000 RPM和75%的相对扭矩高亮显示。

1
00:07:05,000 --> 00:07:39,000
然后，如果我们看一下Y轴，可以看到当前高亮显示的数值是75.38%，此时请求的气缸填充量为120%。但在我们的KFMIRL表中，这一数值是80%。所以我们实际上是在75%和86%之间进行插值。同样地，这也意味着我们在120%和140%的请求气缸填充量之间进行插值。

2
00:07:39,000 --> 00:07:45,000
回想一下我们在KFMIRL表中的值是128%，你可以看到它是如何工作的。

3
00:07:45,000 --> 00:07:54,000
因此，在修改这些表格时，确保对KFMIOP表进行相应的逆向修改是非常重要的。

4
00:07:54,000 --> 00:08:04,000
如果不这样做，并且数值差距过大，就有可能触发诊断故障码（DTC），并可能导致发动机进入“跛行模式”（Limp Home Mode）。

5
00:08:04,000 --> 00:08:06,000
现在让我们回到我们的模块。

6
00:08:06,000 --> 00:08:15,000
此时，控制器能够计算出目标负载，但如果我们记录ECU数据，很可能会发现它实际上并没有达到目标负载值。

7
00:08:15,000 --> 00:08:25,000
原因是我们还有一系列充气限制表或参数，它们会覆盖从KFMIRL表中请求的目标负载。

8
00:08:25,000 --> 00:08:35,000
我们有两组2D表格会根据发动机转速限制负载，其中第一组是LDRXN表，也就是最大气缸充气表。

9
00:08:35,000 --> 00:08:44,000
第二组是LDRXNZK表，用于在持续爆震（Knocking）期间限制最大气缸充气量。

10
00:08:44,000 --> 00:08:54,000
简单来说，第一张表是正常运行时的整体气缸充气限制，而第二张表可以在发生爆震时减少增压压力。

1
00:08:52,000 --> 00:09:10,000
此外，还会有一个单一数值的增压限制，它起到整体限制器的作用，还有一张压力比限制表。该表考虑了涡轮的压力比，即压缩机出口压力与压缩机入口压力的比值，通常入口压力会近似为大气压力。

2
00:09:10,000 --> 00:09:24,000
压力比限制表通常在高海拔地区更为相关，因为此时大气压力较低，涡轮需要以更高的压力比运行来达到所需的发动机负载。

3
00:09:24,000 --> 00:09:32,000
接下来，我们会看到一组用于正常运行和部件保护的目标Lambda表，这些表可以用来控制燃油喷射。

4
00:09:32,000 --> 00:09:37,000
它们被称为“驾驶员需求Lambda”（Lambda Driver's Wish）和“部件保护Lambda”（Lambda for Component Protection）。

5
00:09:37,000 --> 00:09:48,000
在接下来的模块中，我们将更深入地探讨什么是部件保护。但本质上，这是ECU通过调整目标Lambda值来帮助控制燃烧温度的一种方式。

6
00:09:48,000 --> 00:10:01,000
当计算得出的排气温度超过特定阈值时，ECU会从使用驾驶员需求的Lambda目标切换到部件保护映射，因此也会有一个参数来控制这一点。

7
00:10:01,000 --> 00:10:10,000
与燃油喷射的精确控制相关的是空气质量流量计（MAF）的校准或线性化表，称为MLHFM。

8
00:10:10,000 --> 00:10:25,000
除非对进气系统进行了重大更改，或者MAF传感器安装在不同直径的进气管上，否则对于基础调校，这张表通常不需要调整。当然，我们可以通过监控燃油修正值来评估MAF标定的准确性。

9
00:10:25,000 --> 00:10:31,000
最后，我们可以转到点火正时表，这些表的缩写是KFZW。

10
00:10:31,000 --> 00:10:41,000
通常，你会发现一系列点火正时表，ECU可以根据需要在不同条件、档位或其他参数下切换这些表。

11
00:10:41,000 --> 00:10:48,000
当然，这并不是Bosch ECU中每张表或每个参数的完整列表。

12
00:10:48,000 --> 00:10:58,000
然而，对于基础的一级调校（Stage 1 Tune），即发动机完全原厂或仅进行轻微改装（如进气或排气系统改装），这些是你需要找到并定义的关键表格。

13
00:10:58,000 --> 00:11:10,000
通过调整这些表格，你可以很好地控制标定过程，并在调校中获得出色的结果。
